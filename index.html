<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>OlivAI - Agricultura 4.0</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Si ya tienes un CSS, cambia styles.css por el nombre correcto -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>OlivAI</h1>
    <p>Agricultura 4.0 impulsada por inteligencia artificial</p>
  </header>

  <main>
    <section>
      <h2>Escala tu finca gracias a la IA</h2>
      <p>
        La Agricultura 4.0 se basa en la utilización de tecnologías avanzadas para optimizar cada aspecto del proceso agrícola.
        Desde la siembra hasta la cosecha, pasando por la gestión de recursos y la distribución, la tecnología mediante IA generativa
        está redefiniendo cómo se lleva a cabo la agricultura.
      </p>
    </section>

    <section>
      <h3>Blockchain Oleícola</h3>
      <p>
        Gracias a la tecnología Blockchain de OlivAI que ejecuta código en el ecosistema Arbitrum, la producción agrícola se beneficia
        de un equilibrio en el umbral de beneficio año tras año, relajando la tensión relativa a la producción anual.
      </p>
    </section>

    <section>
      <h3>Orden Natural</h3>
      <p>
        Los valores de todas las aplicaciones y entornos tecnológicos de OlivAI están alineados con principios universales básicos,
        lo que permite conseguir resultados no solo rentables sino también sostenibles y respetuosos con la naturaleza.
      </p>
    </section>

    <section>
      <h3>Robótica Recolectora</h3>
      <p>
        Las máquinas no solo están al servicio de nuestras tareas cognitivas.
        Con OlivAI, la robótica ayuda en todos los procesos y tareas recolectoras de las fincas agrícolas, desde nivel básico
        hasta superintensivo.
      </p>
    </section>

    <section>
      <h2>Suscríbete a OlivAI, agricultura 4.0</h2>
      <p>Únete al selecto grupo de individuos que iniciarán el cambio en el sector agrícola.</p>

      <!-- FORMULARIO CONECTADO AL BACKEND -->
      <form class="email-form">
        <input
          type="email"
          name="email"
          placeholder="Tu dirección de email"
          aria-label="Email Address"
          required
        >
        <button type="submit">UNIRME</button>
      </form>
    </section>
  </main>

  <footer>
    <p>&copy; <span id="year"></span> OlivAI. Todos los derechos reservados.</p>
  </footer>

  <!-- SCRIPT: conecta el formulario con tu backend en Render -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Año dinámico en el footer (opcional)
      const yearSpan = document.getElementById('year');
      if (yearSpan) {
        yearSpan.textContent = new Date().getFullYear();
      }

      const form = document.querySelector('.email-form');
      if (!form) return;

      const emailInput = form.querySelector('input[type="email"]');

      form.addEventListener('submit', async (event) => {
        event.preventDefault();

        const email = emailInput.value.trim();
        if (!email) {
          alert('Por favor, introduce un email.');
          return;
        }

        try {
          const response = await fetch('https://olivai-project-backend.onrender.com/subscribe', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Accept': 'application/json'
            },
            body: JSON.stringify({ email })
          });

          const data = await response.json();

          if (response.ok && data.success) {
            alert('¡Gracias por suscribirte!');
            form.reset();
          } else {
            alert('Hubo un problema al suscribirte. Inténtalo de nuevo más tarde.');
          }
        } catch (error) {
          console.error('Error en la petición:', error);
          alert('Error de conexión. Inténtalo de nuevo más tarde.');
        }
      });
    });
  </script>
</body>
</html>
